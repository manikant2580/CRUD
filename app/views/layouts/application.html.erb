<!-- app/views/layouts/application.html.erb -->
<!DOCTYPE html>
<html>
  <head>
    <title>Sparks</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= javascript_importmap_tags %>
    <!-- Tailwind via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gradient-to-r from-blue-50 via-white to-pink-50 text-gray-900 min-h-screen">

    <!-- Navbar -->
    <nav class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">

          <!-- Left: Login/Signup or Logout -->
          <div class="flex items-center space-x-4">
            <% if logged_in? %>
              <span class="font-semibold">Hello, <%= current_user.name %></span>
              <%= link_to "Logout", logout_path, method: :delete, class: "bg-red-500 hover:bg-red-600 text-white font-bold px-3 py-1 rounded-lg shadow transition duration-200" %>
            <% else %>
             <%= link_to "Login", login_path, class: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold px-3 py-1 rounded-lg shadow hover:-translate-y-0.5 transition duration-200" %>
             <%= link_to "Signup", signup_path, class: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold px-3 py-1 rounded-lg shadow hover:-translate-y-0.5 transition duration-200" %>
            <% end %>
          </div>

          <!-- Center: Brand -->
          <div class="flex-shrink-0">
            <%= link_to "Sparks", root_path, class: "text-3xl font-extrabold tracking-wide hover:text-yellow-300 transition duration-300" %>
          </div>

          <!-- Right: Add Article -->
          <div class="flex items-center space-x-6">
            <%= link_to "Add Article", new_article_path, class: "bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold px-4 py-2 rounded-lg shadow-lg transform hover:-translate-y-0.5 transition duration-200" %>
          </div>

        </div>
      </div>
    </nav>

    <!-- Flash Messages -->
    <div class="max-w-7xl mx-auto px-4 mt-6">
      <% if notice %>
        <div class="bg-green-100 border-l-4 border-green-600 text-green-800 px-6 py-4 rounded-lg shadow-md mb-6 flex items-center space-x-3">
          <svg class="w-6 h-6 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          <span class="font-medium"><%= notice %></span>
        </div>
      <% end %>
      <% if flash[:alert] %>
        <div class="bg-red-100 border-l-4 border-red-600 text-red-800 px-6 py-4 rounded-lg shadow-md mb-6 flex items-center space-x-3">
          <span class="font-medium"><%= flash[:alert] %></span>
        </div>
      <% end %>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-10 bg-gradient-to-br from-white via-blue-50 to-pink-50 rounded-3xl shadow-2xl border border-gray-200 hover:shadow-3xl transition duration-300">
      <%= yield %>
    </main>

  </body>
</html>
